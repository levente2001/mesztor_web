<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>MESZ-TOR Kft. ‚Äì Kaputechnikai szak√ºzlet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="MESZ-TOR Kft. ‚Äì kaputechnikai term√©kek forgalmaz√°sa a kieg√©sz√≠t≈ëkt≈ël a komplett kivitelez√©sig. Gar√°zskapuk, ipari kapuk, kapumozgat√≥ motorok, automata √ºvegajt√≥k, soromp√≥k √©s szerviz Sz√©kesfeh√©rv√°ron." />

  <!-- Google Font (nem k√∂telez≈ë, csak szebb) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --color-bg: #f5f7fb;
      --color-surface: #ffffff;
      --color-primary: #c86904;
      --color-primary-soft: #e0efff;
      --color-accent: #d8a600;
      --color-text: #33291f;
      --color-muted: #6b7280;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 18px 40px rgba(42, 25, 15, 0.08);
      --container-width: 1180px;
    }

    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: "Montserrat", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #f0f4ff 0, #f5f7fb 32%, #f8fafc 100%);
      color: var(--color-text);
      line-height: 1.6;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      max-width: 100%;
      display: block;
    }

    .container {
      width: 100%;
      max-width: var(--container-width);
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* Topbar */

    .topbar {
      background: #2a1c0f;
      color: #e5e7eb;
      font-size: 0.85rem;
    }

    .topbar-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      padding: 0.4rem 1.5rem;
    }

    .topbar-left,
    .topbar-right {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      align-items: center;
    }

    .topbar-item {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      white-space: nowrap;
    }

    .topbar-item span.icon {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .topbar-cta {
      background: var(--color-accent);
      color: #ffffff;
      padding: 0.3rem 0.9rem;
      border-radius: 999px;
      font-weight: 600;
      font-size: 0.8rem;
    }

    /* Header / Nav */

    .site-header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(16px);
      background: linear-gradient(to right, rgba(248, 250, 252, 0.9), rgba(241, 245, 249, 0.9));
      border-bottom: 1px solid rgba(42, 29, 15, 0.04);
    }

    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
      padding: 0.8rem 1.5rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: radial-gradient(circle at 20% 20%, #efbb90, #c86c04);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-weight: 800;
      font-size: 1.1rem;
      box-shadow: 0 10px 25px rgba(200, 154, 4, 0.35);
    }

    .brand-text-main {
      font-weight: 700;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      font-size: 0.95rem;
    }

    .brand-text-sub {
      font-size: 0.75rem;
      color: var(--color-muted);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      font-size: 0.93rem;
    }

    .nav-links a {
      position: relative;
      padding-bottom: 0.2rem;
      color: #0f172a;
      font-weight: 500;
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
      transition: width 0.22s ease;
    }

    /* A dropdownos men√ºpont legyen rugalmas sorban elrendezve */
    .nav-item.has-dropdown > a {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      position: relative;
    }

    /* A NY√çL ‚Äì itt fel√ºl√≠rjuk a glob√°lis ::before-t is */
    .nav-item.has-dropdown > a::before {
      content: "‚ñæ";
      position: static;   /* ne absolute legyen */
      top: auto;
      left: auto;
      background: none;
      font-size: 0.75rem;
      transform: translateY(1px);
      margin-left: 0.1rem;
    }


    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-cta {
      border-radius: 999px;
      padding: 0.45rem 1.2rem;
      border: none;
      background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
      color: #ffffff;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(200, 138, 4, 0.35);
    }

    .nav-cta:hover {
      filter: brightness(1.05);
    }

    .nav-toggle {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
    }

    .nav-toggle span {
      display: block;
      width: 22px;
      height: 2px;
      background: #2a1f0f;
      margin: 4px 0;
      border-radius: 999px;
      transition: transform 0.2s ease, opacity 0.2s ease;
    }

    /* --- Fels≈ë men√º: layout-board alap√∫ dropdown-ok --- */
    .nav-item {
      position: relative;
      display: flex;
      align-items: center;
    }

    .nav-item + .nav-item {
      margin-left: 0.75rem;
    }

    .nav-item > a {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .nav-dropdown {
      position: absolute;
      top: 120%;
      left: 0;
      min-width: 180px;
      padding: 0.45rem 0.5rem;
      border-radius: 12px;
      background: #ffffff;
      box-shadow: 0 12px 30px rgba(15,23,42,0.14);
      display: none;
      flex-direction: column;
      gap: 0.25rem;
      z-index: 60;
    }

    .nav-item.has-dropdown:hover .nav-dropdown {
      display: flex;
    }

    .nav-dropdown a {
      font-size: 0.85rem;
      padding: 0.25rem 0.15rem;
      color: #0f172a;
      white-space: nowrap;
    }

    /* ne rajzolja r√° a f≈ë men√ºpont al√°h√∫z√°s√°t a dropdown linkekre */
    .nav-dropdown a::after {
      display: none;
    }


    /* Hero */

    .hero {
      padding: 3.5rem 0 3.75rem;
    }

    .hero-inner {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 3rem;
      align-items: center;
    }

    .hero-kicker {
      font-size: 0.8rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-primary);
      font-weight: 700;
      padding: 0.2rem 0.8rem;
      border-radius: 999px;
      background: var(--color-primary-soft);
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      margin-bottom: 0.75rem;
    }

    .hero-kicker-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--color-primary);
    }

    .hero-title {
      font-size: clamp(2.2rem, 3vw, 2.8rem);
      line-height: 1.12;
      margin-bottom: 0.75rem;
    }

    .hero-title span.highlight {
      color: var(--color-primary);
    }

    .hero-lead {
      font-size: 1rem;
      color: var(--color-muted);
      max-width: 34rem;
      margin-bottom: 1.6rem;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      align-items: center;
      margin-bottom: 1.8rem;
    }

    .btn-primary {
      border-radius: 999px;
      border: none;
      cursor: pointer;
      padding: 0.85rem 1.6rem;
      font-weight: 600;
      font-size: 0.95rem;
      background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
      color: #ffffff;
      box-shadow: 0 14px 30px rgba(200, 118, 4, 0.4);
    }

    .btn-primary:hover {
      filter: brightness(1.06);
    }

    .btn-ghost {
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.12);
      padding: 0.8rem 1.5rem;
      background: rgba(255, 255, 255, 0.7);
      font-weight: 500;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    .btn-ghost span.icon {
      font-size: 1.05rem;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      font-size: 0.8rem;
      color: var(--color-muted);
    }

    .hero-meta span strong {
      display: block;
      font-size: 0.95rem;
      color: #111827;
    }

    .hero-visual {
      position: relative;
    }

    .hero-card {
      background: var(--color-surface);
      border-radius: 26px;
      padding: 1.4rem;
      box-shadow: var(--shadow-soft);
      position: relative;
      z-index: 1;
      overflow: hidden;
    }

    .hero-card-badge {
      font-size: 0.75rem;
      color: var(--color-muted);
      margin-bottom: 0.6rem;
    }

    .hero-card-main {
      font-weight: 600;
      margin-bottom: 0.8rem;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.6rem;
    }

    .hero-pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-bottom: 0.8rem;
    }

    .pill {
      font-size: 0.75rem;
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      background: var(--color-primary-soft);
      color: var(--color-primary);
      font-weight: 500;
      white-space: nowrap;
    }


    /* Contact */


    .hero-stats {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.75rem;
      font-size: 0.9rem;
    }

    .hero-stat-label {
      font-size: 0.75rem;
      color: var(--color-muted);
    }

    .hero-stat-value {
      font-weight: 600;
    }

    .hero-glow {
      position: absolute;
      inset: -0%;
      background: radial-gradient(circle at 10% 10%, rgba(4, 102, 200, 0.15), transparent 0%),
                  radial-gradient(circle at 100% 100%, rgba(0, 180, 216, 0.18), transparent 0%);
      opacity: 0.9;
      border-radius: 20px;
      z-index: 0;
    }

    /* Sections generic */

    section {
      padding: 3rem 0;
    }

    .section-header {
      max-width: 42rem;
      margin-bottom: 2rem;
    }

    .section-kicker {
      font-size: 0.78rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-primary);
      font-weight: 700;
      margin-bottom: 0.35rem;
    }

    .section-title {
      font-size: 1.6rem;
      margin: 0 0 0.35rem;
    }

    .section-lead {
      font-size: 0.95rem;
      color: var(--color-muted);
      margin: 0;
    }

    /* Product grid */

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 1.4rem;
    }

    .card {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      padding: 1.25rem 1.3rem;
      box-shadow: 0 14px 35px rgba(15, 23, 42, 0.06);
      display: flex;
      flex-direction: column;
      gap: 0.45rem;
    }

    .card-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-muted);
    }

    .card-title {
      font-size: 1.02rem;
      font-weight: 600;
    }

    .card-links {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.4rem;
      font-size: 0.83rem;
    }

    .chip-link {
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      background: #f3f4f6;
      color: #111827;
      border: 1px solid rgba(15, 23, 42, 0.04);
    }

    .chip-link:hover {
      background: #e5e7eb;
    }

    .card-footer-link {
      margin-top: 0.4rem;
      font-size: 0.82rem;
      color: var(--color-primary);
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    /* Partners strip */

    .partners-strip {
      background: radial-gradient(circle at 0 0, #e0f2fe 0, #f5f7fb 40%, #ffffff 100%);
      border-radius: 26px;
      padding: 1.25rem 1.5rem;
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 0.9rem;
    }

    .partners-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    .partner-pill {
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.35);
      font-size: 0.85rem;
      font-weight: 500;
      white-space: nowrap;
    }

    /* Services / Why us */

    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.2rem;
    }

    .icon-card {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      padding: 1.1rem 1.2rem;
      box-shadow: 0 10px 30px rgba(42, 31, 15, 0.05);
    }

    .icon-badge {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: var(--color-primary-soft);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: var(--color-primary);
      margin-bottom: 0.5rem;
    }

    .icon-card-title {
      font-size: 0.98rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .icon-card-body {
      font-size: 0.9rem;
      color: var(--color-muted);
    }

    /* Motto & references */

    .motto-block {
      background: #0f172a;
      color: #e5e7eb;
      border-radius: 26px;
      padding: 2.1rem 2rem;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .motto-block::before {
      content: "‚Äû";
      position: absolute;
      top: -1.2rem;
      left: 1.1rem;
      font-size: 5rem;
      color: rgba(148, 163, 184, 0.2);
    }

    .motto-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.6rem;
    }

    .motto-text {
      font-size: 0.95rem;
      margin-bottom: 1rem;
    }

    .refs-cta {
      margin-top: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .refs-cta-text {
      font-size: 0.95rem;
      color: var(--color-muted);
    }

        .references-grid {
      margin-top: 1.8rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 1.25rem;
    }

    .reference-card {
      background: #ffffff;
      border-radius: 0.9rem;
      border: 1px solid rgba(148, 163, 184, 0.4);
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.08);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .contact-map-frame {
      padding: 0;
    }

    .reference-image-wrap {
      position: relative;
      padding-top: 62%;
      background: #e2e8f0;
      overflow: hidden;
    }

    .reference-image-wrap img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.25s ease-out;
    }

    .reference-card:hover .reference-image-wrap img {
      transform: scale(1.03);
    }

    .reference-info {
      padding: 0.8rem 0.95rem 0.9rem;
      font-size: 0.9rem;
    }

    .reference-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .reference-desc {
      font-size: 0.85rem;
      color: var(--color-muted);
    }

    .references-empty {
      margin-top: 1.2rem;
      font-size: 0.9rem;
      color: var(--color-muted);
    }

    /* Contact */

    .contact-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 2rem;
    }

    .contact-card {
      background: var(--color-surface);
      border-radius: 24px;
      padding: 1.7rem 1.7rem;
    }

    .contact-card-map {
      background: rgba(0, 180, 216, 0);
      border-radius: 24px;
      margin-top: 25px;
      padding: 0rem 0rem;
    }

    .contact-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      margin-bottom: 0.8rem;
      font-size: 0.95rem;
    }

    .contact-label {
      font-weight: 600;
      font-size: 0.9rem;
      color: #111827;
    }

    .contact-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: var(--color-primary-soft);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: var(--color-primary);
      flex-shrink: 0;
      margin-top: 0.1rem;
    }

    .contact-highlight {
      font-size: 0.9rem;
      color: var(--color-muted);
      margin-top: 0.3rem;
    }

    /* Footer */

    footer {
      border-top: 1px solid rgba(148, 163, 184, 0.25);
      background: #0f172a;
      color: #9ca3af;
      padding: 1.5rem 0 2rem;
      font-size: 0.82rem;
      margin-top: 2rem;
    }

    .footer-inner {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 1rem;
      align-items: center;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .footer-links a {
      color: #d1d5db;
    }

    /* Responsive */

    @media (max-width: 960px) {
      .hero-inner {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero {
        padding-top: 2.4rem;
      }
      .contact-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 800px) {
      .topbar-inner {
        flex-direction: column;
        align-items: flex-start;
        padding: 0.5rem 1.2rem;
      }

      .header-inner {
        padding: 0.7rem 1.2rem;
      }

      .nav-links {
        position: fixed;
        inset: 60px 0 auto 0;
        background: rgba(248, 250, 252, 0.98);
        border-bottom: 1px solid rgba(15, 23, 42, 0.06);
        padding: 0.75rem 1.5rem 1rem;
        flex-direction: column;
        align-items: flex-start;
        transform: translateY(-120%);
        opacity: 0;
        pointer-events: none;
        transition: transform 0.2s ease, opacity 0.2s ease;
      }

      .nav-links.open {
        transform: translateY(0);
        opacity: 1;
        pointer-events: auto;
      }

      .nav-toggle {
        display: block;
      }

      .nav-cta {
        width: 100%;
        justify-content: center;
        text-align: center;
      }

      .nav-links {
        flex-direction: column;
        align-items: flex-start;
      }

      .nav-item {
        width: 100%;
        flex-direction: column;
        align-items: flex-start;
        margin-left: 0;
      }

      .nav-item.has-dropdown > a::after {
        content: "";
      }

      .nav-dropdown {
        position: static;
        box-shadow: none;
        background: transparent;
        padding: 0.1rem 0 0.2rem 0.75rem;
        display: flex;
      }

    }

    @media (max-width: 600px) {
      section {
        padding: 2.3rem 0;
      }

      .motto-block {
        padding: 1.7rem 1.6rem;
      }

      .hero-actions {
        flex-direction: column;
        align-items: stretch;
      }

      .btn-primary,
      .btn-ghost {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>

  <!-- Topbar -->
  <div class="topbar">
    <div class="topbar-inner container">
      <div class="topbar-left">
        <div class="topbar-item">
          <span class="icon">üìû</span>
          <span data-section="site" data-field="topbarPhones">
            06-22-331-332 ¬∑ 06-20-977-09-07
          </span>
        </div>
        <div class="topbar-item">
          <span class="icon">‚úâÔ∏è</span>
          <span data-section="site" data-field="topbarEmail">
            mesztorkaputechnika1@gmail.com
          </span>
        </div>
      </div>
      <div class="topbar-right">
        <div class="topbar-item">
          <span class="icon">üìç</span>
          <span data-section="site" data-field="topbarAddress">
            Sz√©kesfeh√©rv√°r, Ber√©nyi √∫t 81.
          </span>
        </div>
        <a href="#contact"
          class="topbar-cta"
          data-section="site"
          data-field="topbarCtaText">
          Vegye fel vel√ºnk a kapcsolatot
        </a>
      </div>
    </div>
  </div>


  <!-- Header / Nav -->
  <header class="site-header">
    <div class="header-inner container">
      <div class="brand">
        <div class="brand-logo">M</div>
        <div>
          <div class="brand-text-main"
              data-section="site" data-field="brandMain">
            MESZ-TOR Kft.
          </div>
          <div class="brand-text-sub"
              data-section="site" data-field="brandSub">
            Kaputechnikai szak√ºzlet √©s kivitelez√©s
          </div>
        </div>
      </div>

      <button class="nav-toggle" aria-label="Men√º megnyit√°sa">
        <span></span><span></span><span></span>
      </button>

      <nav class="main-nav">
        <div class="nav-links">
          <a href="#hero"      data-section="site" data-field="navHome">Kezd≈ëlap</a>
          <a href="#products"  data-section="site" data-field="navProducts">Term√©kv√°laszt√©k</a>
          <a href="#services"  data-section="site" data-field="navServices">Szolg√°ltat√°sok</a>
          <a href="#why-us"    data-section="site" data-field="navWhyUs">Mi√©rt  mi?</a>
          <a href="#references"data-section="site" data-field="navReferences">Referenci√°k</a>
          <a href="#contact"   data-section="site" data-field="navContact">Kapcsolat</a>
          <button class="nav-cta"
                  onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'});"
                  data-section="site" data-field="navCtaText">
            Aj√°nlatk√©r√©s
          </button>
        </div>
      </nav>

    </div>
  </header>

  <main>

    <!-- Hero -->
    <section id="hero" class="hero">
      <div class="container hero-inner">
        <div>
          <div class="hero-kicker">
            <span class="hero-kicker-dot"></span>
            <span data-section="hero" data-field="kicker">
              Csal√≥d√°smentes kaputechnika
            </span>
          </div>
          <h1 class="hero-title"
              data-section="hero" data-field="title">
            √údv√∂z√∂lj√ºk a <span class="highlight">kaputechnikai term√©kek</span> vil√°g√°ban.
          </h1>
          <p class="hero-lead"
            data-section="hero" data-field="lead">
            F≈ë profilunk a kaputechnikai term√©kek forgalmaz√°sa a kieg√©sz√≠t≈ëkt≈ël a komplett kivitelez√©sig.
            Stabil term√©keket √©s prec√≠z szolg√°ltat√°st ny√∫jtunk megl√©v≈ë √©s leend≈ë √ºgyfeleink r√©sz√©re.
          </p>
          <div class="hero-actions">
            <button class="btn-primary"
                    onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'});"
                    data-section="hero" data-field="primaryCta">
              K√©rek szem√©lyre szabott aj√°nlatot
            </button>
            <button class="btn-ghost"
                    onclick="document.getElementById('products').scrollIntoView({behavior:'smooth'});"
                    data-section="hero" data-field="secondaryCta">
              <span class="icon">‚¨áÔ∏è</span>
              Term√©kv√°laszt√©k megtekint√©se
            </button>
          </div>
          <div class="hero-meta">
            <span data-section="hero" data-field="meta1">
              <strong>Sz√©kesfeh√©rv√°r</strong> bemutat√≥terem ¬∑ Ber√©nyi √∫t 81.
            </span>
            <span data-section="hero" data-field="meta2">
              <strong>Sok√©ves tapasztalat</strong> lakoss√°gi √©s ipari kaputechnik√°ban
            </span>
          </div>

        </div>

        <div class="hero-visual">
          <div class="hero-glow"></div>
          <div class="hero-card">
            <div class="hero-card-badge" data-section="hero" data-field="herobadge">Kaputechnikai megold√°sok</div>
            <div class="hero-card-main">
              <span data-section="hero" data-field="herosoanleft">Lakoss√°gi &amp; ipari kapuk</span>
              <span style="font-size:0.85rem;color:var(--color-muted);" data-section="hero" data-field="herospanright">tan√°csad√°s ¬∑ kivitelez√©s ¬∑ szerviz</span>
            </div>
            <div class="hero-pill-row">
              <span class="pill" data-section="hero" data-field="herocard1">Gar√°zskapuk</span>
              <span class="pill" data-section="hero" data-field="herocard2">Ipari kapuk</span>
              <span class="pill" data-section="hero" data-field="herocard3">Kapumozgat√≥ motorok</span>
              <span class="pill" data-section="hero" data-field="herocard4">Soromp√≥k</span>
            </div>
            <div class="hero-stats">
              <div>
                <div class="hero-stat-label" data-section="hero" data-field="heroctexttitleleft">Szolg√°ltat√°saink</div>
                <div class="hero-stat-value" data-section="hero" data-field="heroctexttitleright">Aj√°nlatk√©sz√≠t√©st≈ël a szervizig</div>
              </div>
              <div>
                <div class="hero-stat-label" data-section="hero" data-field="heroctextleft">Megb√≠zhat√≥ besz√°ll√≠t√≥k</div>
                <div class="hero-stat-value" data-section="hero" data-field="heroctextright">H√∂rmann √©s tov√°bbi kiemelt partnerek</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Products -->
    <section id="products">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker" data-section="products" data-field="sectionKicker">Term√©kv√°laszt√©k</div>
          <h2 class="section-title" data-section="products" data-field="sectionTitle">Kaputechnikai megold√°sok egy helyen</h2>
          <p class="section-lead" data-section="products" data-field="sectionLead">
            Lakoss√°gi gar√°zskapukt√≥l az ipari gyorskapukig, kapumozgat√≥ motorokt√≥l az automata √ºvegajt√≥kig ‚Äì
            seg√≠t√ºnk megtal√°lni az adott helyre legide√°lisabb megold√°st.
          </p>
        </div>

        <div class="card-grid">
          <article class="card">
            <div class="card-tag" data-section="products" data-field="productcardtop">Lakoss√°gi megold√°sok</div>
            <div class="card-title" data-section="products" data-field="productcardtitle">Gar√°zskapuk</div>
            <p class="icon-card-body" data-section="products" data-field="productcardtext">
              Eszt√©tikus √©s biztons√°gos gar√°zskapuk a mindennapi haszn√°lathoz.
            </p>
            <div class="card-links">
              <span class="chip-link" data-section="products" data-field="productcard1">Lakoss√°gi red≈ënykapuk</span>
              <span class="chip-link" data-section="products" data-field="productcard2">Szekcion√°lt gar√°zskapuk</span>
              <span class="chip-link" data-section="products" data-field="productcard3">Billen≈ëkapuk</span>
            </div>
            <a href="#contact" class="card-footer-link" data-section="products" data-field="productcardcontact1">Aj√°nlat gar√°zskapura ‚Üí</a>
          </article>

          <article class="card">
            <div class="card-tag">Ipari megold√°sok</div>
            <div class="card-title">Ipari kapuk</div>
            <p class="icon-card-body">
              Megb√≠zhat√≥ ipari kapuk rakt√°rakhoz, csarnokokhoz √©s logisztikai k√∂zpontokhoz.
            </p>
            <div class="card-links">
              <span class="chip-link">Ipari red≈ënykapuk</span>
              <span class="chip-link">Ipari szekcion√°lt kapuk</span>
              <span class="chip-link">Gyorskapuk</span>
            </div>
            <a href="#contact" class="card-footer-link">Ipari kapu aj√°nlat ‚Üí</a>
          </article>

          <article class="card">
            <div class="card-tag">Mozgat√°stechnika</div>
            <div class="card-title">Kapumozgat√≥ meghajt√°sok</div>
            <p class="icon-card-body">
              Kapumozgat√≥ motorok lakoss√°gi √©s ipari felhaszn√°l√°sra.
            </p>
            <div class="card-links">
              <span class="chip-link">Sz√°rnyas kapu motorok</span>
              <span class="chip-link">Tol√≥kapu motorok</span>
              <span class="chip-link">Gar√°zskapu motorok</span>
            </div>
            <a href="#contact" class="card-footer-link">Kapumozgat√≥ megold√°sok ‚Üí</a>
          </article>

          <article class="card">
            <div class="card-tag">Bel√©ptet√©s</div>
            <div class="card-title">Automata √ºvegajt√≥k &amp; soromp√≥k</div>
            <p class="icon-card-body">
              Modern, megb√≠zhat√≥ bel√©ptet√©si rendszerek √ºzletekhez, irod√°khoz, parkol√≥khoz.
            </p>
            <div class="card-links">
              <span class="chip-link">Automata √ºvegajt√≥k</span>
              <span class="chip-link">Soromp√≥k</span>
            </div>
            <a href="#contact" class="card-footer-link">Bel√©ptet≈ërendszer aj√°nlat ‚Üí</a>
          </article>

          <article class="card">
            <div class="card-tag">Kieg√©sz√≠t≈ëk</div>
            <div class="card-title">T√°vir√°ny√≠t√≥k, fotocell√°k, klaviat√∫r√°k</div>
            <p class="icon-card-body">
              Biztons√°got √©s k√©nyelmet n√∂vel≈ë kieg√©sz√≠t≈ëk sz√©les v√°laszt√©ka.
            </p>
            <div class="card-links">
              <span class="chip-link">T√°vir√°ny√≠t√≥k</span>
              <span class="chip-link">Fotocell√°k</span>
              <span class="chip-link">Klaviat√∫r√°k</span>
            </div>
            <a href="#contact" class="card-footer-link">Kieg√©sz√≠t≈ëk ir√°nt √©rdekl≈ëd√∂m ‚Üí</a>
          </article>

          <article class="card">
            <div class="card-tag">Ker√≠t√©smegold√°sok</div>
            <div class="card-title">Alu ker√≠t√©sek &amp; egyedi utcai kapuk</div>
            <p class="icon-card-body">
              Tart√≥s √©s eleg√°ns alu ker√≠t√©sek, szem√©lyre szabott utcai kapukkal.
            </p>
            <div class="card-links">
              <span class="chip-link">Alu ker√≠t√©sek</span>
              <span class="chip-link">Egyedi utcai kapuk</span>
            </div>
            <a href="#contact" class="card-footer-link">Ker√≠t√©s √©s utcai kapu aj√°nlat ‚Üí</a>
          </article>
        </div>

        <div style="margin-top:2.2rem;">
          <div class="partners-strip">
            <div style="font-size:0.9rem;color:var(--color-muted);">Megb√≠zhat√≥ besz√°ll√≠t√≥ partnereink:</div>
            <div class="partners-list">
              <span class="partner-pill">H√∂rmann Hung√°ria Kft.</span>
              <span class="partner-pill">Automata Bej√°ratok Specialist√°ja Kft.</span>
              <span class="partner-pill">Roll-N Kft.</span>
              <span class="partner-pill">Overgate Kft.</span>
              <span class="partner-pill">Motors For Gate Kft.</span>
              <span class="partner-pill">Kapuker Kft.</span>
              <span class="partner-pill">Gal-La Bt.</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Services -->
    <section id="services">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Szolg√°ltat√°saink</div>
          <h2 class="section-title">Teljes k√∂r≈± t√°mogat√°s a tervez√©st≈ël a szervizig</h2>
          <p class="section-lead">
            Nem csak term√©keket k√≠n√°lunk, hanem komplett megold√°st: felm√©r√©s, tan√°csad√°s, sz√°ll√≠t√°s,
            be√ºzemel√©s √©s m√°rkaf√ºggetlen szerviz egy k√©zben.
          </p>
        </div>

        <div class="icon-grid">
          <article class="icon-card">
            <div class="icon-badge">üìù</div>
            <h3 class="icon-card-title">Aj√°nlat k√©sz√≠t√©s</h3>
            <p class="icon-card-body">
              Gyors, szem√©lyre szabott, d√≠jmentes √°raj√°nlat k√©sz√≠t√©se az √ñn ig√©nyeire szabva.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üìê</div>
            <h3 class="icon-card-title">Felm√©r√©s</h3>
            <p class="icon-card-body">
              Prec√≠z helysz√≠ni felm√©r√©s szakk√©pzett munkat√°rsunk √°ltal, a legjobb m≈±szaki megold√°s √©rdek√©ben.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üí¨</div>
            <h3 class="icon-card-title">Szaktan√°csad√°s</h3>
            <p class="icon-card-body">
              Hozz√°√©rt≈ë koll√©g√°ink seg√≠tenek eligazodni a term√©kek, m√©retek √©s m≈±szaki lehet≈ës√©gek k√∂z√∂tt.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üöö</div>
            <h3 class="icon-card-title">Sz√°ll√≠t√°s</h3>
            <p class="icon-card-body">
              Szakszer≈±, s√©r√ºl√©smentes sz√°ll√≠t√°s a kaputechnikai term√©kek saj√°toss√°gainak figyelembev√©tel√©vel.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üõ†Ô∏è</div>
            <h3 class="icon-card-title">Be√ºzemel√©s</h3>
            <p class="icon-card-body">
              Magas sz√≠nvonal√∫ beszerel√©s √©s be√ºzemel√©s, hogy az √∫j kapu hossz√∫ t√°von megb√≠zhat√≥an m≈±k√∂dj√∂n.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üîß</div>
            <h3 class="icon-card-title">Szervizel√©s, jav√≠t√°s</h3>
            <p class="icon-card-body">
              M√°rkaf√ºggetlen kaputechnikai term√©kek jav√≠t√°sa, karbantart√°sa, gyors reakci√≥val.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- Why us -->
    <section id="why-us">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Mi√©rt v√°lasszon minket?</div>
          <h2 class="section-title">Min≈ës√©g, szak√©rtelem, hossz√∫ t√°v√∫ biztons√°g</h2>
          <p class="section-lead">
            A megb√≠zhat√≥ min≈ës√©g≈±, csal√≥d√°smentes term√©kek mellett k√∂telezt√ºk el magunkat,
            mert sz√°munkra az √ñn hossz√∫ t√°v√∫ el√©gedetts√©ge a legfontosabb.
          </p>
        </div>

        <div class="icon-grid">
          <article class="icon-card">
            <div class="icon-badge">‚≠ê</div>
            <h3 class="icon-card-title">Magas min≈ës√©g≈± term√©kek</h3>
            <p class="icon-card-body">
              Az √°rat nem az olcs√≥bb term√©k, hanem a min≈ës√©g hat√°rozza meg ‚Äì ennek megfelel≈ëen v√°logattuk √∂ssze k√≠n√°latunkat.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üì¶</div>
            <h3 class="icon-card-title">Sz√©les term√©kv√°laszt√©k</h3>
            <p class="icon-card-body">
              Az √∂sszes meghat√°roz√≥ gy√°rt√≥ term√©kei el√©rhet≈ëek, √≠gy mindig a legjobb megold√°st aj√°nljuk.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üõ°Ô∏è</div>
            <h3 class="icon-card-title">Kiemelt garanci√°k</h3>
            <p class="icon-card-body">
              Besz√°ll√≠t√≥ink kiemelt garanci√°val h√°l√°lj√°k meg a min≈ës√©gi term√©kekbe vetett bizalmat.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">ü§ù</div>
            <h3 class="icon-card-title">Vev≈ëbar√°t √ºgyf√©lszolg√°lat</h3>
            <p class="icon-card-body">
              Bar√°ts√°gos, felk√©sz√ºlt √ºgyf√©lszolg√°lat seg√≠t a megfelel≈ë term√©k √©s megold√°s kiv√°laszt√°s√°ban.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üë∑</div>
            <h3 class="icon-card-title">Prec√≠z munkat√°rsak</h3>
            <p class="icon-card-body">
              Hozz√°√©rt≈ë szakemberekb≈ël √°ll√≥ csapatunk magas szint≈± szakmai el≈ëk√©pzetts√©ggel dolgozik.
            </p>
          </article>

          <article class="icon-card">
            <div class="icon-badge">üè≠</div>
            <h3 class="icon-card-title">B≈ës√©ges rakt√°rk√©szlet</h3>
            <p class="icon-card-body">
              A leggyakrabban haszn√°lt term√©kekb≈ël mindig tartunk rakt√°ron a gyors kiszolg√°l√°s √©rdek√©ben.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- Motto + References -->
    <section id="motto">
      <div class="container">
        <div class="motto-block">
          <div class="motto-title">Mott√≥nk</div>
          <div class="motto-text">
            Tudjuk, hogy egy nem megfelel≈ë min≈ës√©g≈± term√©k miatti rossz sz√°j√≠z tov√°bb tart, mint az alacsony √°r okozta
            pillanatnyi √∂r√∂m. Hisz√ºnk abban, hogy az √°rat nem egy olcs√≥bb term√©k, hanem a min≈ës√©g hat√°rozza meg.
            Ez√©rt mi a megb√≠zhat√≥ min≈ës√©g≈±, csal√≥d√°smentes term√©kek mellett k√∂telezt√ºk el magunkat.
          </div>
          <div class="refs-cta">
            <div class="refs-cta-text">
              N√©zze meg kor√°bbi munk√°inkr√≥l k√©sz√ºlt referencia fot√≥inkat, √©s inspir√°l√≥djon a megval√≥sult projektekb≈ël.
            </div>
            <a id="references-link" href="#references" class="btn-ghost">
              Referencia fot√≥k ir√°nt √©rdekl≈ëd√∂m
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- References -->
    <section id="references">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Referenci√°k</div>
          <h2 class="section-title">Kor√°bbi munk√°ink</h2>
          <p class="section-lead">
            N√©h√°ny kiemelt projekt√ºnk az elm√∫lt id≈ëszakb√≥l. A fot√≥k az admin fel√ºleten kereszt√ºl t√∂lthet≈ëk fel,
            √©s automatikusan megjelennek itt.
          </p>
        </div>

        <div id="references-grid" class="references-grid">
          <!-- A k√°rty√°kat JavaScript t√∂lti be -->
        </div>

        <p id="references-empty" class="references-empty" style="display:none;">
          Jelenleg m√©g nincs felt√∂lt√∂tt referencia fot√≥. Amint hozz√°adsz k√©peket az admin fel√ºleten,
          itt automatikusan megjelennek.
        </p>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Kapcsolat</div>
          <h2 class="section-title">Vegye fel vel√ºnk a kapcsolatot</h2>
          <p class="section-lead">
            Ha term√©keinkkel vagy szolg√°ltat√°sainkkal kapcsolatban k√©rd√©se van, vagy szaktan√°csra lenne sz√ºks√©ge,
            forduljon hozz√°nk bizalommal ‚Äì sz√≠vesen seg√≠t√ºnk.
          </p>
        </div>

        <div class="contact-grid">
          <div class="contact-card">
            <p class="icon-card-body" style="margin-bottom:1.2rem;">
              K√ºldje el elk√©pzel√©s√©t, √©s koll√©g√°ink r√∂vid id≈ën bel√ºl felveszik √ñnnel a kapcsolatot
              egy szem√©lyre szabott aj√°nlattal. Az al√°bbi el√©rhet≈ës√©geken is rendelkez√©s√©re √°llunk.
            </p>
            <button class="btn-primary" style="width:100%;justify-content:center;box-shadow: none;">
              Aj√°nlatk√©r√©s e-mailben
            </button>
            <p class="contact-highlight">
              Tipp: csatoljon fot√≥t, m√©reteket √©s r√∂vid le√≠r√°st, √≠gy gyorsabban tudunk pontos aj√°nlatot adni.
            </p>
          </div>

          <div class="contact-card">
            <div class="contact-item">
              <div class="contact-icon">üìû</div>
              <div>
                <div class="contact-label">Telefon</div>
                <div>06-22-331-332</div>
                <div>Mobil: 06-20-977-09-07</div>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">‚úâÔ∏è</div>
              <div>
                <div class="contact-label">E-mail</div>
                <div>mesztorkaputechnika1@gmail.com</div>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">üìç</div>
              <div>
                <div class="contact-label">Bemutat√≥terem</div>
                <div>Sz√©kesfeh√©rv√°r, Ber√©nyi √∫t 81.</div>
                <div class="contact-highlight">
                  √úgyf√©lfogad√°s: H√©tf≈ë‚ÄìP√©ntek 8:00‚Äì12:00 √©s 13:00‚Äì17:00
                </div>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">üëç</div>
              <div>
                <div class="contact-label">Facebook</div>
                <div>/mesztorkaputechnika</div>
              </div>
            </div>
          </div>
        </div>

          <div class="contact-card-map">
            <div class="contact-map">
              <div class="contact-map-frame">
                <iframe
                  loading="lazy"
                  style="width:100%; margin:0px; border:none; border-radius: 24px;height: 250px;"
                  allowfullscreen
                  referrerpolicy="no-referrer-when-downgrade"
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2711.5744152118177!2d18.427701676388274!3d47.20340921573286!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4769f7c6a3f97fab%3A0x18808bf47ea10725!2sMesz-Tor%20Kft.%20-%20Kaputechnika!5e0!3m2!1shu!2shu!4v1762281591018!5m2!1shu!2shu">
                </iframe>
              </div>
            </div>
          </div>

      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer>
    <div class="container footer-inner">
      <div>¬© MESZ-TOR Kft. ‚Äì Kaputechnikai szak√ºzlet, Sz√©kesfeh√©rv√°r</div>
      <div class="footer-links">
        <a href="#hero">Kezd≈ëlap</a>
        <a href="#">√Åltal√°nos szerz≈ëd√©si felt√©telek</a>
        <a href="#">Adatv√©delmi t√°j√©koztat√≥</a>
        <a href="#">Cookie szab√°lyzat</a>
      </div>
    </div>
  </footer>

    <script type="module">
    import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, set, update, get } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAZUGCJkn9L4xH_M8L0fZYTUresZ9qYPqo",
      authDomain: "flymeto-696d0.firebaseapp.com",
      databaseURL: "https://flymeto-696d0-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "flymeto-696d0",
      storageBucket: "flymeto-696d0.firebasestorage.app",
      messagingSenderId: "651204605205",
      appId: "1:651204605205:web:d5dfbf3698be7ac6ee251c",
      measurementId: "G-4L7YN2X9YL"
    };

    const gridEl  = document.getElementById("references-grid");
    const emptyEl = document.getElementById("references-empty");

    let app;
    let db;
    let firebaseEnabled = false;

    try {
      if (firebaseConfig.apiKey) {
        app = getApps().length ? getApp() : initializeApp(firebaseConfig);
        db  = getDatabase(app);
        firebaseEnabled = true;
      }
    } catch (e) {
      console.warn("[firebase] init hiba ‚Äì demo m√≥d:", e);
      firebaseEnabled = false;
    }

        /* ------------ LAYOUT ‚Üí NAV (layoutBoards alapj√°n) ------------ */

    const navLinksEl = document.querySelector(".main-nav .nav-links");
    let navClickHandlerAttached = false;

    // Tartalom bet√∂lt√©s + adminPreview eset√©n inline szerkeszt√©s + nav
    if (firebaseEnabled) {
      initContentInline().catch(err => console.warn("Tartalom bet√∂lt√©s hiba:", err));
      initLayoutNav().catch(err => console.warn("Layout/nav bet√∂lt√©s hiba:", err));
    }

    // layout-kulcs ‚Üí fallback section ID
    const KEY_FALLBACK_IDS = {
      "miert-mi": "why-us",
      "szolgaltatasok": "services",
      "projects": "motto",
      "footer": "footer",
      "kapcsolat-form": "contact",
      "kapcsolat-map": "contact",
      "referenciak": "references",
      "top-termekek": "products",
      "top-beszallitok": "products"
    };

    function findSectionByKey(key) {
      if (!key) return null;

      // 1) pr√≥b√°ljuk data-section alapj√°n (ha k√©s≈ëbb r√°teszed a szekci√≥kra)
      let el = document.querySelector(`[data-section="${key}"]`);
      if (el) {
        const sec = el.closest("section, footer");
        return sec || el;
      }

      // 2) fallback: el≈ëre ismert ID-k
      const fbId = KEY_FALLBACK_IDS[key];
      if (fbId) {
        const sec2 = document.getElementById(fbId);
        if (sec2) return sec2;
        if (fbId === "footer") {
          const f = document.querySelector("footer");
          if (f) return f;
        }
      }

      // 3) utols√≥ es√©ly: l√©tezik ilyen ID?
      const sec3 = document.getElementById(key);
      if (sec3) return sec3;
      if (key === "footer") return document.querySelector("footer") || null;

      return null;
    }

    function attachNavClickHandler() {
      if (!navLinksEl || navClickHandlerAttached) return;
      navClickHandlerAttached = true;

      // Deleg√°lt kattint√°s: b√°rmelyik A / BUTTON, amin van data-section-key
      navLinksEl.addEventListener("click", (e) => {
        const t = e.target;
        if (!(t instanceof HTMLElement)) return;

        const withKey = t.closest("[data-section-key]");
        const key = withKey?.dataset.sectionKey;
        if (!key) return;

        e.preventDefault();

        const secEl = findSectionByKey(key);
        if (secEl) {
          secEl.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      });
    }

    function buildNavFromBoard(board) {
      if (!navLinksEl || !board?.lists?.length) return;

      // Eredeti CTA felirat elment√©se, miel≈ëtt t√∂r√∂lj√ºk a navot
      const existingCtaBtn = document.querySelector(".nav-cta");
      const ctaText = existingCtaBtn?.textContent?.trim() || "Aj√°nlatk√©r√©s";

      // ki√ºr√≠tj√ºk a statikus navot
      navLinksEl.innerHTML = "";

      board.lists.forEach((list) => {
        const cards = Array.isArray(list.cards) ? list.cards : [];
        const listTitle = list.title || "Oldal";

        const navItem = document.createElement("div");
        navItem.className = "nav-item";

        const firstKey = cards[0]?.key || "";

        const topLink = document.createElement("a");
        topLink.href = "#";
        topLink.textContent = listTitle;
        if (firstKey) topLink.dataset.sectionKey = firstKey;
        navItem.appendChild(topLink);

        if (cards.length > 1) {
          navItem.classList.add("has-dropdown");
          const dd = document.createElement("div");
          dd.className = "nav-dropdown";

          cards.forEach((card) => {
            const a = document.createElement("a");
            a.href = "#";
            a.textContent = card.title || card.key || "";
            if (card.key) a.dataset.sectionKey = card.key;
            dd.appendChild(a);
          });

          navItem.appendChild(dd);
        }

        navLinksEl.appendChild(navItem);
      });

      // CTA gomb a v√©g√©re (kapcsolat szekci√≥ra ugorva)
      const ctaBtn = document.createElement("button");
      ctaBtn.type = "button";
      ctaBtn.className = "nav-cta";
      ctaBtn.textContent = ctaText;
      // fallback a contact szekci√≥ra:
      ctaBtn.dataset.sectionKey = "kapcsolat-form";
      navLinksEl.appendChild(ctaBtn);

      attachNavClickHandler();
    }

    // A f≈ëoldali szekci√≥k sorrendj√©nek igaz√≠t√°sa a "/" path-√∫ lista alapj√°n
    function reorderSectionsFromBoard(board) {
      const mainEl = document.querySelector("main");
      if (!mainEl || !board?.lists?.length) return;

      // az a lista, amelyiknek az √∫tvonala "/" ‚Äì ha nincs, akkor az els≈ë
      const mainList =
        board.lists.find(l => (l.path || "/") === "/") ||
        board.lists[0];

      if (!mainList) return;

      const cards = Array.isArray(mainList.cards) ? mainList.cards : [];
      if (!cards.length) return;

      const used = new Set();
      const ordered = [];

      // El≈ësz√∂r a board-on megadott szekci√≥k
      cards.forEach(card => {
        const key = card.key;
        if (!key) return;
        const sec = findSectionByKey(key);
        if (!sec) return;
        // Csak a <main>-en bel√ºli section√∂ket rendezz√ºk
        if (!mainEl.contains(sec)) return;
        if (used.has(sec)) return;

        used.add(sec);
        ordered.push(sec);
      });

      // Ut√°na a marad√©k section√∂k eredeti sorrendben
      const allSections = Array.from(mainEl.querySelectorAll("section"));
      allSections.forEach(sec => {
        if (!used.has(sec)) {
          ordered.push(sec);
        }
      });

      // √öj sorrend alkalmaz√°sa
      ordered.forEach(sec => {
        mainEl.appendChild(sec);
      });
    }

    async function initLayoutNav() {
      if (!firebaseEnabled || !db || !navLinksEl) return;
      try {
        // Itt volt a bug: /board v√©g≈± √∫tvonalat olvastunk,
        // de az admin k√∂zvetlen√ºl settings/layoutBoards al√° menti a boardot.
        const snap = await get(ref(db, "settings/layoutBoards"));
        if (!snap.exists()) return;
        const board = snap.val();
        if (board && Array.isArray(board.lists) && board.lists.length) {
          buildNavFromBoard(board);
          reorderSectionsFromBoard(board);
        }
      } catch (err) {
        console.warn("[layout/nav] hiba:", err);
      }
    }



    /* ------------ TARTALOM INLINE SZERKESZT√âS (adminPreview m√≥d) ------------ */

    const urlParams = new URLSearchParams(location.search);
    const inlineEditMode = urlParams.has("adminPreview");

    let sectionsCache = {};

    async function loadContentSections() {
      if (!firebaseEnabled || !db) return;
      try {
        const snap = await get(ref(db, "content/sections"));
        sectionsCache = snap.exists() ? (snap.val() || {}) : {};
      } catch (err) {
        console.warn("[content] bet√∂lt√©s hiba:", err);
        sectionsCache = {};
      }
    }

    function applyContentSectionsToDom() {
      document.querySelectorAll("[data-section][data-field]").forEach(el => {
        const section = el.dataset.section;
        const field   = el.dataset.field;
        if (!section || !field) return;
        const sec = sectionsCache[section];
        const val = sec && typeof sec[field] === "string" ? sec[field] : null;
        if (val && val.trim() !== "") {
          // HTML-t enged√ºnk, √≠gy pl. <span class="highlight"> is megmarad
          el.innerHTML = val;
        }
      });
    }

    function initInlineEditing() {
      if (!inlineEditMode || !firebaseEnabled || !db) return;

      const style = document.createElement("style");
      style.textContent = `
        [data-section][data-field].inline-editable {
          outline: 1px dashed transparent;
          cursor: text;
          transition: outline-color .15s ease, background-color .15s ease;
        }
        [data-section][data-field].inline-editable:hover {
          outline-color: #cbd5f5;
        }
        [data-section][data-field].inline-editable:focus {
          outline-color: #3b82f6;
        }
      `;
      document.head.appendChild(style);

      document.querySelectorAll("[data-section][data-field]").forEach(el => {
        el.classList.add("inline-editable");
        el.setAttribute("contenteditable", "true");

        el.addEventListener("focus", () => {
          el.dataset._orig = el.innerHTML;
        });

        el.addEventListener("blur", async () => {
          const section = el.dataset.section;
          const field   = el.dataset.field;
          const value   = (el.innerHTML || "").trim();
          if (!section || !field) return;

          if (!sectionsCache[section]) sectionsCache[section] = {};
          sectionsCache[section][field] = value;
          sectionsCache[section].updatedAt = Date.now();

          try {
            await set(ref(db, `content/sections/${section}`), sectionsCache[section]);
            el.style.outlineColor = "#16a34a";
            setTimeout(() => { el.style.outlineColor = ""; }, 800);
          } catch (err) {
            console.warn("[content] ment√©s hiba:", err);
            if (el.dataset._orig != null) {
              el.innerHTML = el.dataset._orig;
            }
          }
        });
      });
    }

    async function initContentInline() {
      if (!firebaseEnabled || !db) return;
      await loadContentSections();
      applyContentSectionsToDom();
      initInlineEditing();
    }


    /* ------------ REFERENCI√ÅK ‚Äì Realtime Database-b≈ël ------------ */

    const demoItems = [
      {
        title: "Ipari szekcion√°lt kapu",
        description: "Ipari kaputechnika kivitelez√©s Sz√©kesfeh√©rv√°ron.",
        imageUrl: "https://images.pexels.com/photos/4484076/pexels-photo-4484076.jpeg?auto=compress&cs=tinysrgb&w=1200"
      },
      {
        title: "Csal√°di h√°z gar√°zskapu",
        description: "Szigetelt, motoros gar√°zskapu be√©p√≠t√©s.",
        imageUrl: "https://images.pexels.com/photos/4491919/pexels-photo-4491919.jpeg?auto=compress&cs=tinysrgb&w=1200"
      },
      {
        title: "Soromp√≥ rendszer",
        description: "Bel√©ptet≈ë soromp√≥ parkol√≥hoz.",
        imageUrl: "https://images.pexels.com/photos/9799766/pexels-photo-9799766.jpeg?auto=compress&cs=tinysrgb&w=1200"
      }
    ];

    function renderReferences(items) {
      if (!gridEl) return;

      gridEl.innerHTML = "";

      if (!items || !items.length) {
        if (emptyEl) emptyEl.style.display = "block";
        return;
      }
      if (emptyEl) emptyEl.style.display = "none";

      items.forEach(item => {
        const card = document.createElement("article");
        card.className = "reference-card";

        const imgWrap = document.createElement("div");
        imgWrap.className = "reference-image-wrap";

        if (item.imageUrl) {
          const img = document.createElement("img");
          img.src = item.imageUrl;
          img.alt = item.title || "Referencia fot√≥";
          img.loading = "lazy";
          imgWrap.appendChild(img);
        }

        const info = document.createElement("div");
        info.className = "reference-info";

        const titleEl = document.createElement("div");
        titleEl.className = "reference-title";
        titleEl.textContent = item.title || "Referencia";

        const descEl = document.createElement("div");
        descEl.className = "reference-desc";
        descEl.textContent = item.description || "";

        info.appendChild(titleEl);
        info.appendChild(descEl);

        card.appendChild(imgWrap);
        card.appendChild(info);
        gridEl.appendChild(card);
      });
    }

    async function loadReferences() {
      if (!gridEl) return;

      if (!firebaseEnabled || !db) {
        renderReferences(demoItems);
        return;
      }

      try {
        const snap = await get(ref(db, "references"));
        if (!snap.exists()) {
          renderReferences(demoItems);
          return;
        }

        const val = snap.val() || {};
        const items = Object.entries(val)
          .map(([key, d]) => ({
            title: d.title || "",
            description: d.description || "",
            imageUrl: d.imageUrl || d.imageDataUrl || "",
            createdAt: d.createdAt || 0
          }))
          .sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0))
          .slice(0, 8);

        renderReferences(items);
      } catch (err) {
        console.warn("[references] Realtime DB hiba ‚Äì demo lista:", err);
        renderReferences(demoItems);
      }
    }

    loadReferences();

    

    /* ------------ ANALITIKA ‚Äì ugyanaz a logika, mint eddig ------------ */

    const analyticsEnabled = firebaseEnabled && !!db;

    if (analyticsEnabled) {
      const VISITOR_KEY       = "mesztor_visitor_id";
      const SESSION_KEY       = "mesztor_session_id";
      const SESSION_START_KEY = "mesztor_session_start";
      const PAGEVIEWS_KEY     = "mesztor_session_pageviews";

      function uuid() {
        if (crypto.randomUUID) return crypto.randomUUID();
        return Date.now().toString(36) + Math.random().toString(36).slice(2);
      }

      let visitorId = localStorage.getItem(VISITOR_KEY);
      if (!visitorId) {
        visitorId = uuid();
        localStorage.setItem(VISITOR_KEY, visitorId);
      }

      const now = Date.now();
      let sessionId    = sessionStorage.getItem(SESSION_KEY);
      let sessionStart = Number(sessionStorage.getItem(SESSION_START_KEY) || 0);

      if (!sessionId || !sessionStart || (now - sessionStart) > 30 * 60 * 1000) {
        sessionId    = uuid();
        sessionStart = now;
        sessionStorage.setItem(SESSION_KEY, sessionId);
        sessionStorage.setItem(SESSION_START_KEY, String(sessionStart));
        sessionStorage.setItem(PAGEVIEWS_KEY, "0");
      }

      let pageViews = Number(sessionStorage.getItem(PAGEVIEWS_KEY) || "0") + 1;
      sessionStorage.setItem(PAGEVIEWS_KEY, String(pageViews));

      const sessionRef = ref(db, `analytics/sessions/${sessionId}`);
      const pagePath   = location.pathname || "/";

      function sendSnapshot() {
        const t = Date.now();
        const durationSec = Math.floor((t - sessionStart) / 1000);
        const payload = {
          visitorId,
          sessionId,
          startedAt: sessionStart,
          lastUpdatedAt: t,
          durationSec,
          pageViews,
          lastPage: pagePath,
          userAgent: navigator.userAgent || ""
        };
        return update(sessionRef, payload).catch(err => {
          console.warn("[analytics] update hiba:", err);
        });
      }

      // els≈ë √≠r√°s
      set(sessionRef, {
        visitorId,
        sessionId,
        startedAt: sessionStart,
        lastUpdatedAt: now,
        durationSec: 0,
        pageViews,
        firstPage: pagePath,
        userAgent: navigator.userAgent || ""
      }).catch(err => console.warn("[analytics] set hiba:", err));

      // periodikus friss√≠t√©s
      sendSnapshot();
      const intId = setInterval(sendSnapshot, 15000);

      window.addEventListener("beforeunload", () => {
        sendSnapshot();
        clearInterval(intId);
      });
    }
  </script>



  <script>
    const navToggle = document.querySelector(".nav-toggle");
    const navLinks  = document.querySelector(".nav-links");

    if (navToggle && navLinks) {
      navToggle.addEventListener("click", () => {
        navLinks.classList.toggle("open");
      });

      // deleg√°lt kattint√°s, minden A/BUTTON-ra
      navLinks.addEventListener("click", (e) => {
        const t = e.target;
        if (!(t instanceof HTMLElement)) return;

        const clickable = t.closest("a,button");
        if (!clickable) return;

        navLinks.classList.remove("open");
      });
    }
  </script>

</body>
</html>
